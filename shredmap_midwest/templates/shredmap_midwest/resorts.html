{% extends "shredmap_midwest/layout.html" %}

{% block body %}
<div class="padding-please">
    <h2>Active Ski Resorts in the Midwest</h2>

    <form class="title" method="post">
        {% csrf_token %}
        <!-- Filters (desktop version) -->
        <div class="desktop-filters">
            <div class="d-flex justify-content-start mb-4">
                <div style="margin-right: 2%;">
                    <!-- State select -->
                    <h4>State</h4>
                    <div class="form-check form-switch">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="ND"
                            {% if "ND" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">North Dakota</label>
                    </div>
                    <div class="form-check form-switch ">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="SD"
                            {% if "SD" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">South Dakota</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="MN"
                            {% if "MN" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">Minnesota</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="WI"
                            {% if "WI" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">Wisconsin</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="MI"
                            {% if "MI" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">Michigan</label>
                    </div>
                </div>
                <div style="margin-right: 8%;">
                    <h4 class="invisible">.</h4>
                    <div class="form-check form-switch">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="IL"
                            {% if "IL" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">Illinois</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="MO"
                            {% if "MO" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">Missouri</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="IN"
                            {% if "IN" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">Indiana</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input stateSwitch" type="checkbox" role="switch" name="OH"
                            {% if "OH" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="flexSwitchCheckDefault">Ohio</label>
                    </div>
                </div>
                <div>
                    <!-- Category select -->
                    <h4>Category</h4>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="categorySelect" id="exampleRadios1"
                            value="filter_park" {% if "park" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="exampleRadios1">
                            Terrain Park
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="categorySelect" id="exampleRadios1"
                            value="filter_groomers" {% if "groomers" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="exampleRadios2">
                            Groomers
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="categorySelect" id="exampleRadios1"
                            value="filter_lifts" {% if "lift" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="exampleRadios2">
                            Chairlifts & Tow Ropes
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="categorySelect" id="exampleRadios1"
                            value="filter_vibe" {% if "vibe" in active_filters %}checked{% endif %}>
                        <label class="form-check-label" for="exampleRadios2">
                            Overall Vibe
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" id="noneRadio" type="radio" name="categorySelect"
                            value="filter_none" {% if "noneRadio" in active_filters or none_radio %}checked{% endif %}>
                        <label class="form-check-label" for="exampleRadios2">
                            None
                        </label>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary mb-4">Filter</button>
            <button type="button" class="btn btn-light mb-4" onclick="reset_filters()">Reset</button>
        </div>

    </form>

    <form class="title" method="post">

        <!-- Filters (mobile version) -->
        <div class="mb-4 mobile-filters">
            {% csrf_token %}
            <div class="mb-4">
                <!-- State select -->
                <h4>State</h4>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="ND" {% if "ND" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">North Dakota</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="SD" {% if "SD" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">South Dakota</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="MN" {% if "MN" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">Minnesota</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="WI" {% if "WI" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">Wisconsin</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="MI" {% if "MI" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">Michigan</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="IL" {% if "IL" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">Illinois</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="MO" {% if "MO" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">Missouri</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="IN" {% if "IN" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">Indiana</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input stateSwitch" type="checkbox" role="switch"
                        id="flexSwitchCheckDefault" name="OH" {% if "OH" in active_filters %}checked{% endif %}>
                    <label class="form-check-label" for="flexSwitchCheckDefault">Ohio</label>
                </div>
            </div>

            <!-- Category select -->
            <h4>Category</h4>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="categorySelect" id="exampleRadios1"
                    value="filter_park" {% if "park" in active_filters %}checked{% endif %}>
                <label class="form-check-label" for="exampleRadios1">
                    Terrain Park
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="categorySelect" id="exampleRadios1"
                    value="filter_groomers" {% if "groomers" in active_filters %}checked{% endif %}>
                <label class="form-check-label" for="exampleRadios2">
                    Groomers
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="categorySelect" id="exampleRadios1"
                    value="filter_lifts" {% if "lift" in active_filters %}checked{% endif %}>
                <label class="form-check-label" for="exampleRadios2">
                    Chairlifts & Tow Ropes
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="categorySelect" id="exampleRadios1"
                    value="filter_vibe" {% if "vibe" in active_filters %}checked{% endif %}>
                <label class="form-check-label" for="exampleRadios2">
                    Overall Vibe
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" id="noneRadio" type="radio" name="categorySelect" value="filter_none"
                    {% if "noneRadio" in active_filters %}checked{% endif %}>
                <label class="form-check-label" for="exampleRadios2">
                    None
                </label>
            </div>
            <button type="submit" class="btn btn-primary mb-4">Filter</button>
            <button type="button" class="btn btn-light mb-4" onclick="reset_filters()">Reset</button>
        </div>
    </form>

    <!-- List each resort -->
    <div class="list-group">
        {% for resort in resorts %}
        <a href="/{{resort.id}}" class="resort-list-link">
            <div class="card resort-list-item justify-content-between">
                <div class="card-body">
                    <div display="float:left">
                        <h5 class="card-title">{{resort.name}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{resort.city}}, {{resort.state}}</h6>
                    </div>
                    {% if category == "Terrain Park" and resort.avg_park %}
                    <div class="progress half-width" display="float:right">
                        <div class="progress-bar" role="progressbar" style="width: {{resort.avg_park}}%"
                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{category}}</div>
                    </div>
                    {% endif %}
                    {% if category == "Groomers" and resort.avg_groomer %}
                    <div class="progress half-width" display="float:right">
                        <div class="progress-bar" role="progressbar" style="width: {{resort.avg_groomer}}%"
                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{category}}</div>
                    </div>
                    {% endif %}
                    {% if category == "Chairlifts & Tow Ropes" and resort.avg_lift %}
                    <div class="progress half-width" display="float:right">
                        <div class="progress-bar" role="progressbar" style="width: {{resort.avg_lift}}%"
                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{category}}</div>
                    </div>
                    {% endif %}
                    {% if category == "Overall Vibe" and resort.avg_vibe %}
                    <div class="progress half-width" display="float:right">
                        <div class="progress-bar" role="progressbar" style="width: {{resort.avg_vibe}}%"
                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{category}}</div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</div>

{% endblock %}